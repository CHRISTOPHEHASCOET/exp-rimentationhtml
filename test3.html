<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Terminal CH-2025 · Écran de contrôle des vols</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&display=swap" rel="stylesheet" />

  <!-- Reset éventuel -->
  <link rel="stylesheet" href="css/normalize.css" />

  <style>
    :root {
      /* Fond / surfaces */
      --background: #0c1235;
      --primary: #0a0e27;
      --secondary: #1a1f3a;
      --board-bg: #020308;

      /* Accents */
      --accent: #ff3b3b;
      --bordeaux: #8b1e3f;
      --cyan-soft: #00d9ff;

      /* Texte */
      --text-main: #f5f7ff;
      --text-muted: #b0b8ff;

      /* Typo */
      --font: 'Oswald', sans-serif;

      /* Tuiles FIDS */
      --flap-w: 14px;
      --flap-h: 22px;
      --flap-gap: 2px;

      --container-width: 1250px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #3443a3 0%, #12173f 40%, #050819 100%);
      color: var(--text-main);
      font-family: var(--font);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* ========= HEADER COCKPIT + NAV ========= */

    header.site-header {
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6);
    }

    .cockpit-bar {
      background: #151c3b;
      padding: 8px 4vw;
      border-bottom: 1px solid rgba(0, 217, 255, 0.35);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
    }

    .cockpit-left {
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .pilot-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
      border: 1px solid var(--cyan-soft);
    }

    .cockpit-left strong {
      font-weight: 700;
      color: #fff;
    }

    .cockpit-center span + span::before {
      content: "·";
      margin: 0 0.35rem;
      color: rgba(199, 204, 232, 0.7);
    }

    .cockpit-right b {
      color: var(--cyan-soft);
    }

    nav.terminal-nav {
      background: linear-gradient(145deg, #252b4b 0%, #1a1f3a 35%, #101633 100%);
      border-bottom: 2px solid var(--accent);
      padding: 10px 4vw 12px;
    }

    .terminal-nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 1.2rem;
    }

    .terminal-nav a {
      display: inline-flex;
      flex-direction: column;
      gap: 0.16rem;
      font-size: 0.75rem;
      letter-spacing: 0.13em;
      text-transform: uppercase;
      color: #c7cce8;
      padding: 0.45rem 0.9rem 0.4rem;
      border-radius: 7px;
      background: radial-gradient(circle at top, #343d68 0%, rgba(21, 28, 59, 0.96) 55%, rgba(10, 14, 39, 0.96) 100%);
      box-shadow:
        0 8px 18px rgba(0, 0, 0, 0.7),
        inset 0 0 0 1px rgba(52, 60, 106, 0.95);
      border-top: 1px solid rgba(230, 238, 248, 0.25);
      position: relative;
      transition:
        transform 0.18s ease-out,
        box-shadow 0.18s ease-out,
        background 0.18s ease-out,
        color 0.18s ease-out;
    }

    .terminal-nav a::before {
      content: attr(data-gate);
      font-size: 0.55rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(199, 204, 232, 0.9);
    }

    .terminal-nav a::after {
      content: "";
      position: absolute;
      left: 12%;
      right: 12%;
      bottom: 3px;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--cyan-soft), transparent);
      opacity: 0;
      transform: scaleX(0.4);
      transform-origin: center;
      transition: opacity 0.18s ease-out, transform 0.18s ease-out;
    }

    .terminal-nav a:hover {
      color: #fff;
      background: radial-gradient(circle at top, #3e4b78 0%, #222a52 55%, #101633 100%);
      box-shadow:
        0 14px 28px rgba(0, 0, 0, 0.9),
        0 0 16px rgba(0, 217, 255, 0.5);
      transform: translateY(-1px);
    }

    .terminal-nav a:hover::after {
      opacity: 1;
      transform: scaleX(1);
    }

    /* ========= MAIN / HERO ========= */

    main {
      max-width: var(--container-width);
      margin: 40px auto;
      padding: 0 20px;
    }

    .hero-line {
      display: flex;
      align-items: baseline;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .hero-title {
      font-size: 2.1rem;
      text-transform: uppercase;
      letter-spacing: 3px;
      background: linear-gradient(90deg, #f97373 0%, #faccb0 50%, #f97373 100%);
      -webkit-background-clip: text;
      color: transparent;
      text-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    }

    .subtitle {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 20px;
      text-align: center;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    .controls button {
      background: #151c3b;
      border: 1px solid var(--bordeaux);
      color: #fff;
      padding: 6px 12px;
      cursor: pointer;
      font-family: var(--font);
      font-size: 0.75rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .controls button.active {
      background: var(--bordeaux);
      color: #000;
    }

    /* ========= TABLEAU ========= */

    .board {
      background: #020308;
      border: 4px solid #1e293b;
      border-radius: 10px;
      box-shadow: 0 40px 100px rgba(0, 0, 0, .9);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .board-table {
      border-collapse: collapse;
      min-width: 1100px;
      width: max-content;
    }

    .board-table th,
    .board-table td {
      padding: 10px 4px;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
    }

    .board-table th {
      background: #0f1426;
      color: var(--red);
      letter-spacing: .15em;
      font-size: 0.75rem;
      text-transform: uppercase;
      padding-top: 12px;
      padding-bottom: 12px;
    }

    .col-vol  { width: 100px; }
    .col-dest { width: 350px; }
    .col-time { width: 80px;  }
    .col-type { width: 190px; }
    .col-stat { width: 220px; }
    .col-gate { width: 60px;  }
    .col-obs  { width: 210px; }

    .board-table tbody tr:nth-child(even) {
      background: rgba(255,255,255,0.02);
    }

    .board-table tbody tr:hover {
      background: rgba(255, 255, 255, .05);
      cursor: pointer;
    }

    .flap-group {
      display: flex;
      gap: var(--gap);
      justify-content: flex-start;
    }

    .flap {
      width: var(--flap-w);
      height: var(--flap-h);
      background: #0a0e27;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow:
        inset 0 -1px 0 rgba(0,0,0,.6),
        inset 0  1px 0 rgba(255,255,255,.05);
      font-size: 0.85rem;
      font-weight: 700;
      color: #e5e7f8;
    }

    .col-time .flap-group,
    .col-gate .flap-group {
      justify-content: center;
    }

    .cyan .flap { color: var(--cyan-soft); }
    .red  .flap { color: var(--bordeaux); }

    .board footer {
      padding: 10px;
      text-align: right;
      font-size: .65rem;
      letter-spacing: .12em;
      background: #05070a;
      text-transform: uppercase;
      color: #cbd5f5;
    }

    /* ========= FOOTER ========= */

    footer.site-footer {
      margin-top: 40px;
      padding-top: 20px;
      font-size: 0.75rem;
    }

    .footer-inner {
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 20px;
      background: linear-gradient(145deg, #151c3b 0%, #101633 40%, #050b23 100%);
      border-radius: 12px 12px 0 0;
      border-top: 2px solid var(--bordeaux);
      border-left: 1px solid #343c6a;
      border-right: 1px solid #343c6a;
      box-shadow: 0 -16px 40px rgba(0, 0, 0, 0.85);
      display: flex;
      justify-content: space-between;
      gap: 3rem;
    }

    .footer-col h3 {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--cyan-soft);
      margin-bottom: 0.5rem;
    }

    .footer-col p,
    .footer-col a {
      color: #cbd5f5;
      font-size: 0.75rem;
      text-decoration: none;
    }

    .runway-strip {
      margin-top: 10px;
      padding: 0.55rem 1rem 0.65rem;
      text-align: center;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #f9fafb;
      background: linear-gradient(90deg, #2b0d17 0%, #511426 35%, #2b0d17 100%);
      border-top: 1px solid rgba(248, 202, 69, 0.45);
      box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.85);
    }
  </style>
</head>

<body>

  <header class="site-header">
    <div class="cockpit-bar">
      <div class="cockpit-left">
        <img src="pilote christophehascoet3.png" alt="Portrait du commandant de bord" class="pilot-avatar">
        <strong>CMD · WEB & MOBILE</strong>
        <span>Vol CH‑2025</span>
      </div>
      <div class="cockpit-center">
        <span>Secteur FR–EU</span>
        <span>Alt FL350</span>
        <span>Spd 480KT</span>
        <span>AP engaged</span>
      </div>
      <div class="cockpit-right">
        <span>Statut : <b>Opérationnel</b></span>
      </div>
    </div>

    <nav class="terminal-nav" aria-label="Navigation principale">
      <ul>
        <li><a href="index.html"        data-gate="T1 · GATE D01">Hall des départs</a></li>
        <li><a href="passeport.html"    data-gate="T1 · GATE P02">Passeport du pilote</a></li>
        <li><a href="embarquement.html" data-gate="T2 · GATE E12">Zone d’embarquement</a></li>
        <li><a href="plandevol.html"    data-gate="T2 · GATE V03">Plan de vol</a></li>
        <li><a href="profile.html"      data-gate="T3 · GATE C05">Profil / cockpit</a></li>
        <li><a href="contact.html"      data-gate="T3 · GATE CTL">Tour de contrôle</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section aria-labelledby="screen-title">
      <div class="hero-line">
        <h1 id="screen-title" class="hero-title">ÉCRAN DE CONTRÔLE DES VOLS</h1>
      </div>
      <p class="subtitle">
        Situation opérationnelle — missions, compétences et formations du pilote.
      </p>

      <div class="controls" aria-label="Filtre des vols">
        <button id="btn-dep" type="button" class="active">DÉPARTS</button>
        <button id="btn-arr" type="button">ARRIVÉES</button>
      </div>

      <section class="board" aria-label="Tableau des départs et arrivées">
        <p id="table-desc" class="sr-only">
          Tableau de type panneau d’aéroport listant les vols numériques, leurs destinations, horaires, types,
          statuts, portes et pages correspondantes du site.
        </p>
        <table class="board-table" role="table" aria-describedby="table-desc">
          <caption class="sr-only">
            Tableau des vols – départs et arrivées du pilote CH-2025
          </caption>
          <thead>
            <tr>
              <th scope="col" class="col-vol">VOL</th>
              <th scope="col" class="col-dest">DESTINATION</th>
              <th scope="col" class="col-time">HEURE</th>
              <th scope="col" class="col-type">TYPE</th>
              <th scope="col" class="col-stat">STATUT</th>
              <th scope="col" class="col-gate">PORTE</th>
              <th scope="col" class="col-obs">OBSERVATIONS</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
        <footer>● Ground control — sélectionnez un vol pour consulter la zone</footer>
      </section>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <section class="footer-col" aria-label="Coordonnées de la tour de contrôle">
        <h3>GROUND_CONTROL</h3>
        <p>Email : flight-control@ch-2025.dev</p>
        <p>Base : Lorient, France</p>
      </section>
      <section class="footer-col" aria-label="Canaux de navigation">
        <h3>NAV_CHANNELS</h3>
        <p><a href="#">GitHub</a></p>
        <p><a href="#">LinkedIn</a></p>
      </section>
      <section class="footer-col" aria-label="Documents de vol">
        <h3>FLIGHT_DOCS</h3>
        <p><a href="#">CV · PDF</a></p>
        <p>Portfolio 2025 · Thème aéroportuaire</p>
      </section>
    </div>
    <div class="runway-strip">
      STOP // END OF RUNWAY // T3 · ZONE COCKPIT
    </div>
  </footer>

  <script>
    const CONFIG = {
      chars: " ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789/",
      slots: {
        vol:  6,
        dest: 20,
        time: 5,
        type: 13,
        stat: 14,
        gate: 3,
        obs:  12
      }
    };

    const DEPARTS = [
      { time:"09:30", vol:"CHBK01", dest:"Booki intégration",      type:"Projet",        stat:"En vol",         gate:"E12", obs:"Zone projets",  link:"embarquement.html#booki" },
      { time:"10:45", vol:"CHPF25", dest:"Portfolio 2025",        type:"Projet",        stat:"En vol",         gate:"E15", obs:"Zone projets",  link:"embarquement.html#portfolio-2025" },
      { time:"11:30", vol:"CHJS06", dest:"JavaScript ES6+",       type:"Langage",       stat:"En reprise",     gate:"C03", obs:"Profil",        link:"profile.html#skills-js" },
      { time:"13:00", vol:"CHRT01", dest:"React & TypeScript",    type:"Langage",       stat:"En préparation", gate:"C05", obs:"Profil",        link:"profile.html#skills-front" },
      { time:"14:15", vol:"CHGS01", dest:"Animations GSAP",       type:"Compétence",    stat:"En préparation", gate:"C07", obs:"Profil",        link:"profile.html#skills-anim" },
      { time:"15:45", vol:"CHPL01", dest:"Études de cas clients", type:"Étude de cas",  stat:"En préparation", gate:"V03", obs:"Plan de vol",   link:"plandevol.html" }
    ];

    const ARRIVEES = [
      { time:"08:00", vol:"CHHT01", dest:"HTML5 / CSS3",           type:"Langage",       stat:"Acquis",         gate:"---", obs:"Profil",        link:"profile.html#skills-front" },
      { time:"08:30", vol:"CHOC01", dest:"Projets OpenClassrooms", type:"Projets",      stat:"Validé",         gate:"---", obs:"Zone projets",  link:"embarquement.html" },
      { time:"09:15", vol:"CHLV01", dest:"Laravel & PHP",          type:"Backend",      stat:"En pratique",    gate:"---", obs:"Plan de vol",   link:"plandevol.html" },
      { time:"10:00", vol:"CHCC01", dest:"Cahiers des charges",    type:"Documentation",stat:"Expérimenté",    gate:"---", obs:"Plan de vol",   link:"plandevol.html#cahiers" }
    ];

    function createFlapGroup(text, slotCount) {
      const target = (text || "").toUpperCase().padEnd(slotCount, " ").slice(0, slotCount);
      return `<div class="flap-group">${[...target]
        .map(c => `<span class="flap" data-char="${c}"></span>`)
        .join("")}</div>`;
    }

    function animateFlaps() {
      const flaps = document.querySelectorAll(".flap");
      if (!flaps.length) return;

      flaps.forEach((flap, index) => {
        const target = flap.dataset.char;
        let cycles = 0;
        const maxCycles = 6 + (index % 4); // léger décalage par ligne
        const delay = index * 10;

        setTimeout(() => {
          const interval = setInterval(() => {
            const chars = CONFIG.chars;
            flap.textContent = chars[Math.floor(Math.random() * chars.length)];
            if (++cycles > maxCycles) {
              clearInterval(interval);
              flap.textContent = target;
            }
          }, 45);
        }, delay);
      });
    }

    function renderFlights(data) {
      const tbody = document.getElementById("tbody");
      tbody.innerHTML = "";

      data.forEach(row => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td data-label="VOL">${createFlapGroup(row.vol,  CONFIG.slots.vol)}</td>
          <td data-label="DESTINATION">${createFlapGroup(row.dest, CONFIG.slots.dest)}</td>
          <td data-label="HEURE">${createFlapGroup(row.time, CONFIG.slots.time)}</td>
          <td data-label="TYPE">${createFlapGroup(row.type, CONFIG.slots.type)}</td>
          <td data-label="STATUT" class="cyan">${createFlapGroup(row.stat, CONFIG.slots.stat)}</td>
          <td data-label="PORTE">${createFlapGroup(row.gate, CONFIG.slots.gate)}</td>
          <td data-label="OBSERVATIONS" class="red">${createFlapGroup(row.obs, CONFIG.slots.obs)}</td>
        `;
        tr.addEventListener("click", () => {
          if (row.link) window.location.href = row.link;
        });
        tbody.appendChild(tr);
      });

      animateFlaps();
    }

    document.addEventListener("DOMContentLoaded", () => {
      const btnDep = document.getElementById("btn-dep");
      const btnArr = document.getElementById("btn-arr");

      btnDep.addEventListener("click", () => {
        renderFlights(DEPARTS);
        btnDep.classList.add("active");
        btnArr.classList.remove("active");
      });

      btnArr.addEventListener("click", () => {
        renderFlights(ARRIVEES);
        btnArr.classList.add("active");
        btnDep.classList.remove("active");
      });

      // affichage initial : DÉPARTS
      renderFlights(DEPARTS);
    });
  </script>

</body>
</html>